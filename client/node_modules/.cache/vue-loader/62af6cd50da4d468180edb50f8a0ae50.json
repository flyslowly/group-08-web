{"remainingRequest":"/Users/flyslowly/Documents/GitLab/webProject/group-08-web/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/flyslowly/Documents/GitLab/webProject/group-08-web/client/src/views/Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/flyslowly/Documents/GitLab/webProject/group-08-web/client/src/views/Student.vue","mtime":1574805924626},{"path":"/Users/flyslowly/Documents/GitLab/webProject/group-08-web/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/flyslowly/Documents/GitLab/webProject/group-08-web/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Api } from '@/Api'\nimport TodoItem from '@/components/TodoItem'\nimport HolidayItem from '@/components/HolidayItem'\n\nexport default {\n  name: 'student',\n  data() {\n    return {\n      student: {\n        ssn: '',\n        name: {\n          fname: '',\n          lname: ''\n        },\n        sex: '',\n        _id: ''\n      },\n      todos: [],\n      courses: [],\n      todo: {\n        title: '',\n        date: '',\n        description: '',\n        _id: ''\n      },\n      todoform: 'create',\n      oldTodo: {\n        title: '',\n        date: '',\n        description: '',\n        _id: ''\n      },\n      holidays: []\n    }\n  },\n  mounted() {\n    this.getStudent()\n    setTimeout(() => {\n      this.getTodos()\n    }, 500)\n    this.getHolidays()\n  },\n  created() {\n  },\n  computed: {\n    titleState() {\n      if (this.todo.title.length === 0) {\n        return null\n      } else {\n        return true\n      }\n    }\n  },\n  methods: {\n    createTodo() {\n      var todo = this.todo\n      Api.post(`students/${this.student._id}/todos/`, todo)\n        .then(response => {\n          this.todos.push(response.data)\n          this.todo.title = ''\n          this.todo.date = ''\n          this.todo.description = ''\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    getStudent() {\n      Api.get(this.$route.fullPath)\n        .then(response => {\n          this.student = response.data[0]\n        })\n        .catch(error => {\n          this.student = ''\n          console.log(error)\n        })\n    },\n    getTodos() {\n      Api.get(`students/${this.student._id}/todos`)\n        .then(response => {\n          this.todos = response.data\n        })\n        .catch(error => {\n          this.todos = []\n          console.log(error)\n        })\n    },\n    deleteTodo(id) {\n      Api.delete(`/todos/${id}`)\n        .then(response => {\n          var index = this.todos.findIndex(todo => todo._id === id)\n          this.todos.splice(index, 1)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    editTodo(id) {\n      Api.get(`/todos/${id}`)\n        .then(response => {\n          this.todo = response.data\n          this.oldTodo = response.data\n          this.todoform = ''\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    updateTodo() {\n      if (this.oldTodo.title === this.todo.title ||\n      this.oldTodo.date === this.todo.date ||\n      this.oldTodo.description === this.todo.description) {\n        Api.patch(`todos/${this.todo._id}/`, this.todo)\n          .then(response => {\n            this.getTodos()\n            this.todoform = 'create'\n            this.todo.title = ''\n            this.todo.date = ''\n            this.todo.description = ''\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      } else {\n        Api.put(`todos/${this.todo._id}/`, this.todo)\n          .then(response => {\n            this.getTodos()\n            this.todoform = 'create'\n            this.todo.title = ''\n            this.todo.date = ''\n            this.todo.description = ''\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      }\n    },\n    getHolidays() {\n      Api.get('holidays')\n        .then(response => {\n          this.holidays = response.data.holidays\n        })\n        .catch(error => {\n          this.holidays = []\n          console.log(error)\n        })\n    }\n  },\n  components: {\n    TodoItem,\n    HolidayItem\n  }\n}\n",{"version":3,"sources":["Student.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Student.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"content\">\n      <h1>Hello, {{student.name.fname}}!</h1>\n    </div>\n    <b-card no-body class=\"content\">\n      <b-tabs card>\n        <b-tab title=\"Todos\" active>\n          <b-container class=\"content\" fluid>\n            <b-row class=\"justify-content-center\">\n              <b-col cols=\"8\" md=\"4\">\n                <b-card class=\"p-3\">\n                  <b-form v-if=\"todoform === 'create'\">\n                    <h3>Create Todo</h3>\n                    <b-form-group>\n                      <label>Title</label>\n                      <b-form-input\n                        required\n                        placeholder=\"Enter todo title\"\n                        v-model=\"todo.title\"\n                        :state=\"titleState\"\n                      ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group>\n                      <label>Date</label>\n                      <b-form-input\n                        required\n                        type=\"date\"\n                        v-model=\"todo.date\"\n                      ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group>\n                      <label>Description</label>\n                      <b-form-textarea\n                        v-model=\"todo.description\"\n                        placeholder=\"Enter description\"\n                        rows=\"3\"\n                        max-rows=\"6\"\n                      ></b-form-textarea>\n                    </b-form-group>\n\n                    <b-button variant=\"primary\" @click=\"createTodo\">Create</b-button>\n                  </b-form>\n\n                  <b-form v-else>\n                    <h3>Update Todo</h3>\n                    <b-form-group>\n                      <label>Title</label>\n                      <b-form-input\n                        required\n                        placeholder=\"Enter todo title\"\n                        v-model=\"todo.title\"\n                        :state=\"titleState\"\n                      ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group>\n                      <label>Date</label>\n                      <b-form-input\n                        required\n                        type=\"date\"\n                        v-model=\"todo.date\"\n                      ></b-form-input>\n                    </b-form-group>\n\n                    <b-form-group>\n                      <label>Description</label>\n                      <b-form-textarea\n                        v-model=\"todo.description\"\n                        placeholder=\"Enter description\"\n                        rows=\"3\"\n                        max-rows=\"6\"\n                      ></b-form-textarea>\n                    </b-form-group>\n\n                    <b-button variant=\"primary\" @click=\"updateTodo\">Update</b-button>\n                  </b-form>\n                </b-card>\n              </b-col>\n              <b-col cols=\"8\" md=\"8\">\n                <b-list-group>\n                  <todo-item v-for=\"todo in todos\" :key=\"todo._id\" :todo=\"todo\" @delete-todo=\"deleteTodo\" @edit-todo=\"editTodo\"></todo-item>\n                </b-list-group>\n              </b-col>\n            </b-row>\n          </b-container>\n        </b-tab>\n        <b-tab title=\"Holidays\">\n          <div class=\"holidays\">\n            <b-list-group>\n              <holiday-item v-for=\"holiday in holidays\" :key=\"holiday._id\" :holiday=\"holiday\"></holiday-item>\n            </b-list-group>\n          </div>\n        </b-tab>\n      </b-tabs>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport { Api } from '@/Api'\nimport TodoItem from '@/components/TodoItem'\nimport HolidayItem from '@/components/HolidayItem'\n\nexport default {\n  name: 'student',\n  data() {\n    return {\n      student: {\n        ssn: '',\n        name: {\n          fname: '',\n          lname: ''\n        },\n        sex: '',\n        _id: ''\n      },\n      todos: [],\n      courses: [],\n      todo: {\n        title: '',\n        date: '',\n        description: '',\n        _id: ''\n      },\n      todoform: 'create',\n      oldTodo: {\n        title: '',\n        date: '',\n        description: '',\n        _id: ''\n      },\n      holidays: []\n    }\n  },\n  mounted() {\n    this.getStudent()\n    setTimeout(() => {\n      this.getTodos()\n    }, 500)\n    this.getHolidays()\n  },\n  created() {\n  },\n  computed: {\n    titleState() {\n      if (this.todo.title.length === 0) {\n        return null\n      } else {\n        return true\n      }\n    }\n  },\n  methods: {\n    createTodo() {\n      var todo = this.todo\n      Api.post(`students/${this.student._id}/todos/`, todo)\n        .then(response => {\n          this.todos.push(response.data)\n          this.todo.title = ''\n          this.todo.date = ''\n          this.todo.description = ''\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    getStudent() {\n      Api.get(this.$route.fullPath)\n        .then(response => {\n          this.student = response.data[0]\n        })\n        .catch(error => {\n          this.student = ''\n          console.log(error)\n        })\n    },\n    getTodos() {\n      Api.get(`students/${this.student._id}/todos`)\n        .then(response => {\n          this.todos = response.data\n        })\n        .catch(error => {\n          this.todos = []\n          console.log(error)\n        })\n    },\n    deleteTodo(id) {\n      Api.delete(`/todos/${id}`)\n        .then(response => {\n          var index = this.todos.findIndex(todo => todo._id === id)\n          this.todos.splice(index, 1)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    editTodo(id) {\n      Api.get(`/todos/${id}`)\n        .then(response => {\n          this.todo = response.data\n          this.oldTodo = response.data\n          this.todoform = ''\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    updateTodo() {\n      if (this.oldTodo.title === this.todo.title ||\n      this.oldTodo.date === this.todo.date ||\n      this.oldTodo.description === this.todo.description) {\n        Api.patch(`todos/${this.todo._id}/`, this.todo)\n          .then(response => {\n            this.getTodos()\n            this.todoform = 'create'\n            this.todo.title = ''\n            this.todo.date = ''\n            this.todo.description = ''\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      } else {\n        Api.put(`todos/${this.todo._id}/`, this.todo)\n          .then(response => {\n            this.getTodos()\n            this.todoform = 'create'\n            this.todo.title = ''\n            this.todo.date = ''\n            this.todo.description = ''\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      }\n    },\n    getHolidays() {\n      Api.get('holidays')\n        .then(response => {\n          this.holidays = response.data.holidays\n        })\n        .catch(error => {\n          this.holidays = []\n          console.log(error)\n        })\n    }\n  },\n  components: {\n    TodoItem,\n    HolidayItem\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.content {\n  padding: 0;\n  margin: 0;\n  background-color: #f8f9fa;\n}\n\nh1 {\n  margin-bottom: 0;\n}\n\na {\n  color: #42b983;\n}\n.createButton {\n  margin-bottom: 1em;\n}\n\nh1 {\n  align-content: center;\n}\n\n.holidays {\n  margin-left: 5%;\n  margin-right: 5%;\n  margin-bottom: 2em;\n}\n\n</style>\n"]}]}